RewriteEngine On

RewriteCond %{REQUEST_URI} !^/public/
RewriteRule ^(.\*)$ /public/$1 [L]

RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^public/ - [L]

RewriteRule ^public/(.\*)$ /public/index.php?\_url=$1 [QSA,L]
